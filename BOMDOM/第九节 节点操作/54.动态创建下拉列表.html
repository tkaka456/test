<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="../js/EventUtil.js"></script>
    <script src="../js/documentReady.js"></script>

    <body>
        <select name="sel" id="sel">

    </select>

        <script>
            //54.动态创建下拉列表.html
            (function() {

                var data = [{
                    name: '北京',
                    value: 1
                }, {
                    name: '上海',
                    value: 2
                }, {
                    name: '天津',
                    value: 3
                }, {
                    name: '重庆',
                    value: 4
                }];
                document.myReady(function() {
                    //初始化下拉列表的数据
                    initSel();

                    //给下拉列表绑定change事件
                    var sel = document.getElementById('sel');
                    EventUtil.addEvent(sel, 'change', function(e) {


                        //拿到选中的选项的value和 text
                        var selOpt = this.options[this.selectedIndex];
                        console.log(selOpt.value);
                        console.log(selOpt.text);

                        //如果你只要value值
                        //直接通过select标签的value属性就可以拿到
                        console.log(this.value);
                    });


                });
                //初始化下拉列表
                function initSel() {
                    //{name: '北京', value:1},
                    //<option value="1">北京</option>
                    for (var i = 0; i < data.length; i++) {
                        //data[i]
                        var opt = document.createElement('option');
                        opt.value = data[i].value;
                        //opt.setAttribute('value', data[i].value)
                        opt.text = data[i].name;

                        //sel.add(opt, null);
                        sel.appendChild(opt);
                    }
                }



            })();
        </script>
    </body>

</html>