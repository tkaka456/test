<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="../js/documentReady.js"></script>
    <script src="../js/EventUtil.js"></script>
</head>

<body>
    <ul id="menu">

    </ul>

    <script>
        (function() {

            //数据 假设数据从后台通过ajax获取
            var data = [{
                name: '首页',
                url: 'http://www.youtube.ca',
                id: 1
            }, {
                name: '关于',
                url: '/about.html',
                id: 2
            }, {
                name: '产品',
                url: '/product.html',
                id: 3
            }, {
                name: '案例',
                url: '/ysecase.html',
                id: 4
            }, {
                name: '联系',
                url: '/contact.html',
                id: 5
            }, ];
            //页面加载完成后动态加载li标签数据
            document.myReady(function() {
                loadMenudata(); //初始化菜单数据

                //初始化事件绑定

                //提前做一些数据处理

            });
            //加载数据菜单
            function loadMenudata() {
                var menu = document.getElementById('menu');
                var strArry = [];
                //使用innerHTML的方式直接拼接字符串
                //动态创建li标签
                // {name: '首页',url: '/index.html', id: 1} =>
                //<li id="menu1"><a href="/index.html">首页</a></li>
                for (var i = 0; i < data.length; i++) {
                    var str = '<li id="menu' + data[i].id + '">';
                    str += '<a href="' + data[i].url + '">' + data[i].name + '<a>';
                    str += "</li>";
                    //menu.innerHTML += str; //每次创建li标签都会跟dom进行一次更新
                    //效率太低 dom交互太多次

                    strArry.push(str);
                }
                menu.innerHTML = strArry.join(""); //dom只更新一次 效率高

            }

        })();
    </script>
</body>

</html>